<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Population Pyramid: Collin County vs. Average U.S. County (2023)</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div id="pyramid"></div>
    <script>
        // Define age groups
        var ageGroups = ['Under 5 years', '5 to 9 years', '10 to 14 years', '15 to 19 years',
            '20 to 24 years', '25 to 29 years', '30 to 34 years', '35 to 39 years',
            '40 to 44 years', '45 to 49 years', '50 to 54 years', '55 to 59 years',
            '60 to 64 years', '65 to 69 years', '70 to 74 years', '75 to 79 years',
            '80 to 84 years', '85 years and over'];

        // Collin County data (replace with actual values)
        var collinMale = [33159, 40044, 42747, 43846, 32858, 33998, 37796, 37742, 34521, 30479, 27162, 23758, 21024, 16168, 12651, 8137, 5014, 2596];
        var collinFemale = [31846, 37995, 41653, 40354, 32081, 33846, 37767, 37668, 35088, 31277, 28426, 25391, 23217, 18952, 15694, 11398, 8598, 5369];

        // Average U.S. County data (replace with actual values)
        var avgCountyMale = [9535485, 10425999, 11042088, 11651851, 11561136, 10934944, 11020489, 11142452, 10293208, 9792274, 9299323, 8435552, 7048307, 5939462, 4449734, 3034848, 1861620, 2395125].map(x => x / 3143);
        var avgCountyFemale = [9108193, 9902748, 10419078, 10957887, 10829281, 10340562, 10593267, 10769274, 10273411, 10021922, 9704993, 9065818, 8209536, 7446635, 6174738, 4968211, 3367572, 3999528].map(x => x / 3143);

        // Create traces
        var trace1 = {
            x: collinMale.map(x => -x), // Negative for left side
            y: ageGroups,
            name: 'Collin County Male',
            orientation: 'h',
            type: 'bar',
            marker: { color: 'blue' }
        };

        var trace2 = {
            x: collinFemale,
            y: ageGroups,
            name: 'Collin County Female',
            orientation: 'h',
            type: 'bar',
            marker: { color: 'red' }
        };

        var trace3 = {
            x: avgCountyMale.map(x => -x), // Negative for left side
            y: ageGroups,
            name: 'Avg U.S. County Male',
            orientation: 'h',
            type: 'bar',
            marker: { color: 'lightblue' }
        };

        var trace4 = {
            x: avgCountyFemale,
            y: ageGroups,
            name: 'Avg U.S. County Female',
            orientation: 'h',
            type: 'bar',
            marker: { color: 'pink' }
        };

        var data = [trace1, trace2, trace3, trace4];

        var layout = {
            title: 'Population Pyramid: Collin County vs. Average U.S. County (2023)',
            barmode: 'overlay',
            bargap: 0.1,
            xaxis: {
                title: 'Population',
                tickvals: [-5000, -2500, 0, 2500, 5000], // Adjust based on data
                ticktext: [5000, 2500, 0, 2500, 5000],
                range: [-6000, 6000] // Adjust based on data
            },
            yaxis: {
                title: 'Age Groups',
                autorange: 'reversed'
            },
            legend: { x: 0.8, y: 1 }
        };

        Plotly.newPlot('pyramid', data, layout);
    </script>
</body>
</html>
